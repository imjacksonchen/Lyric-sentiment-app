{"ast":null,"code":"import _classCallCheck from\"/Users/jacksonchen/Desktop/test-deploy/django-react-testdeploy/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jacksonchen/Desktop/test-deploy/django-react-testdeploy/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/jacksonchen/Desktop/test-deploy/django-react-testdeploy/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/jacksonchen/Desktop/test-deploy/django-react-testdeploy/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Input}from'antd';import React from'react';import axios from'axios';import{Redirect}from\"react-router-dom\";var Search=Input.Search;var SearchBar=/*#__PURE__*/function(_React$Component){_inherits(SearchBar,_React$Component);var _super=_createSuper(SearchBar);function SearchBar(){var _this;_classCallCheck(this,SearchBar);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={artists:[]};return _this;}_createClass(SearchBar,[{key:\"onSearch\",value:function onSearch(value){var _this2=this;axios.get(\"http://127.0.0.1:8000/api/\".concat(value)).then(function(res){_this2.setState({artists:[res.data]});}).catch(function(error){console.log(error.response);axios.post(\"http://127.0.0.1:8000/api/\",{name:value}).then(function(res){_this2.setState({artists:[res.data]});console.log(res.data);}).catch(function(error){if(error.response.status===500){console.log(\"Can't find artist; doesn't exist\");}});});}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Search,{placeholder:\"Search for an Artist\"// allowClear\n,onSearch:function onSearch(value){return _this3.onSearch(value);},enterButton:true}),this.state.artists.length>0&&/*#__PURE__*/_jsx(Redirect,{push:true,to:\"/\".concat(this.state.artists[0].id)})]});}}]);return SearchBar;}(React.Component);export default SearchBar;","map":{"version":3,"sources":["/Users/jacksonchen/Desktop/test-deploy/django-react-testdeploy/my-app/src/containers/SearchBar.js"],"names":["Input","React","axios","Redirect","Search","SearchBar","state","artists","value","get","then","res","setState","data","catch","error","console","log","response","post","name","status","onSearch","length","id","Component"],"mappings":"wzBAAA,OAASA,KAAT,KAAsB,MAAtB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,kBAAzB,C,GAEQC,CAAAA,M,CAAWJ,K,CAAXI,M,IAEFC,CAAAA,S,mVACFC,K,CAAQ,CACJC,OAAO,CAAE,EADL,C,+EAICC,K,CAAO,iBACZN,KAAK,CAACO,GAAN,qCAAuCD,KAAvC,GACKE,IADL,CACU,SAAAC,GAAG,CAAI,CACT,MAAI,CAACC,QAAL,CAAc,CACVL,OAAO,CAAE,CAACI,GAAG,CAACE,IAAL,CADC,CAAd,EAGH,CALL,EAMKC,KANL,CAMW,SAAAC,KAAK,CAAI,CACZC,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,QAAlB,EACAhB,KAAK,CAACiB,IAAN,CAAW,4BAAX,CAAyC,CACrCC,IAAI,CAAEZ,KAD+B,CAAzC,EAGKE,IAHL,CAGU,SAAAC,GAAG,CAAI,CACT,MAAI,CAACC,QAAL,CAAc,CACVL,OAAO,CAAE,CAACI,GAAG,CAACE,IAAL,CADC,CAAd,EAGAG,OAAO,CAACC,GAAR,CAAYN,GAAG,CAACE,IAAhB,EACH,CARL,EASKC,KATL,CASW,SAAAC,KAAK,CAAI,CACZ,GAAIA,KAAK,CAACG,QAAN,CAAeG,MAAf,GAA0B,GAA9B,CAAmC,CAC/BL,OAAO,CAACC,GAAR,CAAY,kCAAZ,EACH,CACJ,CAbL,EAcH,CAtBL,EAwBH,C,uCAEQ,iBACL,mBACI,oCACI,KAAC,MAAD,EACI,WAAW,CAAC,sBACZ;AAFJ,CAGI,QAAQ,CAAE,kBAACT,KAAD,QAAW,CAAA,MAAI,CAACc,QAAL,CAAcd,KAAd,CAAX,EAHd,CAII,WAAW,KAJf,EADJ,CAOK,KAAKF,KAAL,CAAWC,OAAX,CAAmBgB,MAAnB,CAA4B,CAA5B,eACG,KAAC,QAAD,EAAU,IAAI,KAAd,CAAe,EAAE,YAAM,KAAKjB,KAAL,CAAWC,OAAX,CAAmB,CAAnB,EAAsBiB,EAA5B,CAAjB,EARR,GADJ,CAaH,C,uBA9CmBvB,KAAK,CAACwB,S,EAkD9B,cAAepB,CAAAA,SAAf","sourcesContent":["import { Input } from 'antd';\nimport React from 'react';\nimport axios from 'axios';\nimport { Redirect } from \"react-router-dom\";\n\nconst { Search } = Input;\n\nclass SearchBar extends React.Component {\n    state = {\n        artists: []\n    }\n\n    onSearch(value) {\n        axios.get(`http://127.0.0.1:8000/api/${value}`)\n            .then(res => {\n                this.setState({\n                    artists: [res.data]\n                });\n            })\n            .catch(error => {\n                console.log(error.response)\n                axios.post(\"http://127.0.0.1:8000/api/\", {\n                    name: value\n                })\n                    .then(res => {\n                        this.setState({\n                            artists: [res.data]\n                        });\n                        console.log(res.data)\n                    })\n                    .catch(error => {\n                        if (error.response.status === 500) {\n                            console.log(\"Can't find artist; doesn't exist\")\n                        }\n                    })\n            });\n\n    };\n\n    render() {\n        return (\n            <div>\n                <Search\n                    placeholder=\"Search for an Artist\"\n                    // allowClear\n                    onSearch={(value) => this.onSearch(value)}\n                    enterButton\n                />\n                {this.state.artists.length > 0 &&\n                    <Redirect push to={`/${this.state.artists[0].id}`} />\n                }\n            </div>\n        )\n    }\n\n}\n\nexport default SearchBar;"]},"metadata":{},"sourceType":"module"}